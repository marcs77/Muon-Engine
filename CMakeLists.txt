cmake_minimum_required(VERSION 2.6)
project(MuonEngine)

find_package(freetype REQUIRED)

set(MuonEngine_VERSION_MAJOR 0)
set(MuonEngine_VERSION_MINOR 1)

option(BUILD_TESTGAME "Build test game." ON)

configure_file (
  "${PROJECT_SOURCE_DIR}/build_info.h.in"
  "${PROJECT_BINARY_DIR}/build_info.h"
)

set_property(GLOBAL PROPERTY USE_FOLDERS ON)

#set (CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} /W4")
message("cxx flags: " ${CMAKE_CXX_FLAGS})

include_directories(${PROJECT_BINARY_DIR})


#Dependencies
add_subdirectory (dependencies/glfw)
set(GLFW_BUILD_EXAMPLES OFF CACHE BOOL "Build GLFW examples." FORCE)
set(GLFW_BUILD_TESTS OFF CACHE BOOL "Build GLFW tests." FORCE)

add_subdirectory (dependencies/glad)
add_subdirectory (dependencies/freetype)
add_subdirectory (dependencies/freetype-gl)

set_property(TARGET glfw PROPERTY FOLDER "dependencies")
set_property(TARGET glad PROPERTY FOLDER "dependencies")
set_property(TARGET freetype PROPERTY FOLDER "dependencies")
set_property(TARGET freetype-gl PROPERTY FOLDER "dependencies")

#Engine
add_subdirectory (core)
if(BUILD_TESTGAME)
	add_subdirectory (testgame)
endif(BUILD_TESTGAME)